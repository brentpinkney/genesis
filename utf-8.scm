;;; -----------------------------------------------------------------------------------------------
;;; utf-8 â†’ reflection 
;;; -----------------------------------------------------------------------------------------------
;;; symbol_value( s )
(! (c 0xfc)
   (@ 0x05							; procedure
      0x01							; s
      0x48 0x8b 0x07						; mov    rax, QWORD PTR [rdi]
      0x48 0xc1 0xe8 0x10					; shr    rax, 0x10
      0xc3)) 							; ret 

;;; put_char( c )
(! (c 0xf9)
   (@ 0x05							; procedure
      0x01							; c 
      ; put_char:
      0x57							; push   rdi
      0x48 0xc7 0xc2 0x00 0x00 0x00 0x00			; mov    rdx,0x0
      ; plen:
      0x48 0x83 0xff 0x00					; cmp    rdi,0x0
      0x74 0x09							; je     400515 <pwrite>
      0x48 0xc1 0xef 0x08					; shr    rdi,0x8
      0x48 0xff 0xc2						; inc    rdx
      0xeb 0xf1							; jmp    400506 <plen>
      ; pwrite
      0x48 0xc7 0xc0 0x01 0x00 0x00 0x00			; mov    rax,0x1
      0x48 0xc7 0xc7 0x01 0x00 0x00 0x00			; mov    rdi,0x1
      0x48 0x8d 0x34 0x24					; lea    rsi,[rsp]
      0x0f 0x05							; syscall
      0x5f							; pop    rdi
      0xc3))							; ret


;;; get_char( )
(! (c 0xfa)
   (@ 0x05							; procedure
      0x00							; none
      ; get_char:
      0x48 0xc7 0xc7 0x00 0x00 0x00 0x00 			; mov    0xrdi,0x0
      0x57                   					; push   0xrdi
      0x48 0x8d 0x34 0x24          				; lea    0xrsi,[rsp]
      0x48 0xc7 0xc2 0x01 0x00 0x00 0x00 			; mov    0xrdx,0x1
      0x48 0xc7 0xc0 0x00 0x00 0x00 0x00 			; mov    0xrax,0x0
      0x0f 0x05                					; syscall 
      0x48 0x8b 0x04 0x24          				; mov    0xrax,QWORD 0xPTR 0x[rsp]
      0x48 0xc7 0xc1 0x00 0x00 0x00 0x00 			; mov    0xrcx,0x0
      ; glen:
      0x48 0xd1 0xe0             				; shl    0xrax,1
      0x48 0x25 0xff 0x01 0x00 0x00    				; and    0xrax,0x1ff
      0x80 0xfc 0x00             				; cmp    0xah,0x0
      0x74 0x04                					; je     0x400564 0x<gread>
      0xfe 0xc1                					; inc    0xcl
      0xeb 0xee                					; jmp    0x400552 0x<glen>
      ; gread:
      0x4c 0x8b 0x04 0x24          				; mov    0xr8,QWORD 0xPTR 0x[rsp]
      0x80 0xf9 0x00             				; cmp    0xcl,0x0
      0x74 0x43                					; je     0x4005b0 0x<gdone>
      0xfe 0xc9                					; dec    0xcl
      0x49 0x89 0xc9             				; mov    0xr9,rcx
      0x49 0xc7 0xc2 0x00 0x00 0x00 0x00 			; mov    0xr10,0x0
      ; gmore:
      0x49 0x83 0xf9 0x00          				; cmp    0xr9,0x0
      0x74 0x31                					; je     0x4005b0 0x<gdone>
      0x48 0xc7 0xc7 0x00 0x00 0x00 0x00 			; mov    0xrdi,0x0
      0x48 0x8d 0x34 0x24          				; lea    0xrsi,[rsp]
      0x48 0xc7 0xc2 0x01 0x00 0x00 0x00 			; mov    0xrdx,0x1
      0x48 0xc7 0xc0 0x00 0x00 0x00 0x00 			; mov    0xrax,0x0
      0x0f 0x05                					; syscall 
      0x4c 0x8b 0x1c 0x24          				; mov    0xr11,QWORD 0xPTR 0x[rsp]
      0x49 0x83 0xc2 0x08          				; add    0xr10,0x8
      0x4c 0x89 0xd1             				; mov    0xrcx,r10
      0x49 0xd3 0xe3             				; shl    0xr11,cl
      0x4d 0x01 0xd8             				; add    0xr8,r11
      0x49 0xff 0xc9             				; dec    0xr9
      0xeb 0xc9                					; jmp    0x400579 0x<gmore>
      ; gdone:
      0x4c 0x89 0xc0             				; mov    0xrax,r8
      0x5f                   					; pop    0xrdi
      0xc3                   					; ret    
      0xc3))                   					; ret 

